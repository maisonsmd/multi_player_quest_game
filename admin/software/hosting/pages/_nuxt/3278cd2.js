(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{253:function(t,e,n){t.exports=n.p+"img/background.2c6bfab.png"},264:function(t,e){},267:function(t,e,n){var content=n(318);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(66).default)("4573560c",content,!0,{sourceMap:!1})},310:function(t,e,n){var map={"./1.jpg":311,"./2.jpg":312,"./3.jpg":313,"./4.jpg":314,"./5.jpg":315,"./6.jpg":316};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=r,t.exports=o,o.id=310},311:function(t,e,n){t.exports=n.p+"img/1.f3153c7.jpg"},312:function(t,e,n){t.exports=n.p+"img/2.f3153c7.jpg"},313:function(t,e,n){t.exports=n.p+"img/3.f3153c7.jpg"},314:function(t,e,n){t.exports=n.p+"img/4.f3153c7.jpg"},315:function(t,e,n){t.exports=n.p+"img/5.f3153c7.jpg"},316:function(t,e,n){t.exports=n.p+"img/6.24e1b51.jpg"},317:function(t,e,n){"use strict";var o=n(267);n.n(o).a},318:function(t,e,n){var o=n(65),r=n(266),c=n(253);e=o(!1);var l=r(c);e.push([t.i,".container-fluid{margin:0 auto;min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center}.field-label{color:#fff;padding:0;margin:0;text-align:left}body{background-color:#eceff1!important;background:url("+l+");background-repeat:no-repeat;background-size:cover;background-position:50%}",""]),t.exports=e},322:function(t,e,n){"use strict";n.r(e);n(29),n(13),n(19),n(36);var o=n(258),r=n.n(o),c=n(80),l=n.n(c),_={name:"slide",data:function(){return{host:"",socket:null,alert:{dismiss_countdown:0,message:""},players:[],num_players:6,connected:!1,stopwatch:{running:!1,start:0,interval_timer:-1,string:"0:00.00"}}},created:function(){var t=this;this.host="http://".concat(window.location.hostname,":3001"),document.title="slide",this.init_socket();for(var i=0;i<this.num_players;i++)this.$set(this.players,i,{index:i,name:"ĐỘI "+(i+1),score:0,answer:"",time_of_answer:0,order_of_answer:0});this.request_stopwatch(),l.a.get("".concat(this.host,"/players")).then((function(e){for(var n=0;n<t.num_players;n++)t.players[n].score=e.data[n].score,t.players[n].answer=e.data[n].answer,t.players[n].time_of_answer=e.data[n].time_of_answer>0?t.convert_to_time_string(e.data[n].time_of_answer):"_",t.players[n].order_of_answer=e.data[n].order_of_answer}))},methods:{get_logo_src:function(t){return n(310)("./"+(t+1)+".jpg")},convert_to_time_string:function(t){var dt=new Date(t),e=dt.toLocaleTimeString().toLowerCase(),time=e.substring(e.indexOf(":")+(dt.getMinutes()<10?2:1),e.length),n=dt.getMilliseconds(),o=""+n;return o=n<10?"0"+o:o.substring(0,2),time.replace(/ (am|pm)/,".")+o},alert_countdown_changed:function(t){this.alert.dismiss_countdown=t},show_alert:function(t){this.alert.dismiss_countdown=2,this.alert.message=t},request_stopwatch:function(){var t=this;l.a.get("".concat(this.host,"/stopwatch")).then((function(e){t.stopwatch.running=e.data.stopwatch.running,t.stopwatch.start=Date.now()-e.data.stopwatch.elapsed}))},init_socket:function(){var t=this;this.socket=r.a.connect(this.host),this.socket.on("connect",(function(){t.connected=!0,console.log("connected")})),this.socket.on("disconnect",(function(){t.connected=!1,console.log("disconnected")})),this.socket.on("stopwatch_start",(function(data){t.stopwatch.start=Date.now(),t.stopwatch.running=!0})),this.socket.on("stopwatch_stop",(function(data){t.stopwatch.running?(t.stopwatch.string=t.convert_to_time_string(data),t.stopwatch.running=!1):t.stopwatch.string=t.convert_to_time_string(0)})),this.socket.on("update_display",(function(data){for(var i=0;i<t.num_players;i++)t.players[i].score=data[i].score,t.players[i].answer=data[i].answer,t.players[i].time_of_answer=data[i].time_of_answer>0?t.convert_to_time_string(data[i].time_of_answer):"_",t.players[i].order_of_answer=data[i].order_of_answer})),this.socket.on("bell",(function(e){t.waiting_bell=e.waiting,e.waiting||t.show_alert("Đội ".concat(e.team+1," trả lời!"))})),this.stopwatch.interval_timer=setInterval((function(){t.stopwatch.running&&(t.stopwatch.string=t.convert_to_time_string(Date.now()-t.stopwatch.start))}),100)}}},f=(n(317),n(62)),component=Object(f.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[t.connected?t._e():n("b-alert",{staticClass:"text-uppercase font-weight-bold",staticStyle:{"max-width":"300px",position:"fixed",top:"10px",left:"10px"},attrs:{variant:"danger",show:"",fade:""}},[t._v("\n    lost connection!")]),t._v(" "),n("b-alert",{staticStyle:{"max-width":"300px",position:"fixed",top:"10px",left:"10px","z-index":"98","font-size":"2rem"},attrs:{show:t.alert.dismiss_countdown,fade:"",variant:"warning"},on:{"dismiss-count-down":t.alert_countdown_changed}},[t._v(t._s(t.alert.message)+"\n  ")]),t._v(" "),n("div",{staticClass:"w-100 h-100"},[n("b-row",{staticClass:"text-white m-0",staticStyle:{"margin-top":"15vh !important"},attrs:{"align-h":"center"}},t._l(t.players,(function(e,o){return n("b-col",{key:o,staticClass:"p-1",attrs:{sm:"2"}},[n("b-row",{attrs:{"align-h":"center"}},[n("b-col",{attrs:{sm:"11"}},[n("h1",{staticClass:"font-weight-bold",staticStyle:{"font-size":"4rem"}},[t._v("\n              "+t._s(e.score)+"\n            ")]),t._v(" "),n("b-img",{attrs:{src:t.get_logo_src(o),fluid:"",width:"300px",height:"300px"}}),t._v(" "),n("b-form-textarea",{staticClass:"text-center mt-5 p-1 text-uppercase font-weight-bold text-danger",staticStyle:{"border-radius":"0","font-size":"2rem"},attrs:{size:"lg",rows:"2",disabled:"","no-resize":"",value:e.answer}}),t._v(" "),n("h1",{staticClass:"mt-5 font-weight-bold",staticStyle:{"font-size":"2rem"}},[t._v("\n              "+t._s(e.time_of_answer)+"\n            ")]),t._v(" "),n("h1",{staticClass:"mt-3 text-warning",staticStyle:{"font-size":"3rem"}},[t._v("\n              "+t._s(e.order_of_answer>0?e.order_of_answer:" ")+"\n            ")])],1)],1)],1)})),1)],1),t._v(" "),n("div",{staticStyle:{position:"fixed",top:"30px",right:"50px"}},[n("h1",{staticClass:"text-white text-monospace"},[t._v(t._s(t.stopwatch.string))])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);